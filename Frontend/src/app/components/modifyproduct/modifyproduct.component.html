<div fxLayout="column" fxFlexFill fxLayoutAlign="center center h-auto" style="background-image:url('../../assets/img/fondo_login.jpg');
  height: 100%;
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover; ">
  <div class="pt-4 h-auto">
    <img src="../../../assets/img/logo_optica.png" class="w-1/2 bg-black mx-auto" />
  </div>
    <div fxLayout="column" class="p-5 m-auto w-11/12 md:w-3/5">
      <div class=" mat-elevation-z4">
        <mat-card >
            <mat-card-title class="bg-blue-500 text-white p-1 h-14">
            Modificar Producto Modelo: <br>{{productModify.model}}
            </mat-card-title> 
            <mat-card-content>
            <form [formGroup]="modifyProductForm" (ngSubmit)="onSubmit(modifyProductForm.value)" fxLayout="column" fxLayoutAlign="start stretch">
            <!--  <div *ngIf="errorLogin" class="alert alert-danger">
                <button type="button" class="close" data-dismiss="alert">
                  &times;
                </button>
               
                Los credenciales son incorrectos o el usuario no existe.
              </div>
            -->
            <div class="md:flex md:justify-around w-full">
                <div class="form-group">
                <mat-form-field appearance="fill" class="w-full md:ml-10 md:w-8/12">
                    <mat-label>Tipo de producto *</mat-label>
                        <mat-select 
                        id="typeProduct" 
                        name="typeProduct"
                        formControlName="typeProduct"
                        
                        [ngClass]="{
                            'is-invalid': submitted && modifyProductForm.controls.typeProduct.errors
                        }">
                            <mat-option value="{{product}}" *ngFor="let product of products">{{product}}</mat-option>
                        </mat-select>
                        <mat-error *ngIf="modifyProductForm.controls.typeProduct.invalid">{{getErrorMessageTypeProduct()}}</mat-error>
                        <mat-hint>Introduce el tipo de producto</mat-hint>
                    </mat-form-field>
                </div>

              <div class="form-group"> 
                <mat-form-field appearance="fill" class="w-full md:w-11/12 md:-ml-7">
                <mat-label>Marca de gafas *</mat-label>
                    <input matInput
                    type="text"
                    id="brand"
                    name="brand"
                    formControlName="brand"
                    class="form-control"
                    [ngClass]="{
                        'is-invalid': submitted && modifyProductForm.controls.brand.errors
                    }"
                    />
                    <mat-error *ngIf="modifyProductForm.controls.brand.invalid">{{getErrorMessageBrand()}}</mat-error>
                    <mat-hint>Introduce la marca</mat-hint>
                </mat-form-field>
              </div>
            </div>
<!--
              <div class="form-group">
                <mat-form-field class="w-full" appearance="fill">
                    <mat-label>Modelo *</mat-label>
                    <input matInput
                    type="text"
                    id="model"
                    name="model"
                    formControlName="model"
                    class="form-control"
                    [ngClass]="{
                        'is-invalid': submitted && modifyProductForm.controls.model.errors
                    }"
                    />
                    <mat-error *ngIf="modifyProductForm.controls.model.invalid">{{getErrorMessageModel()}}</mat-error>
                    <mat-hint>El modelo del producto es requerido</mat-hint>
                </mat-form-field>
              </div>
-->
              <div class="form-group">
                <mat-form-field class="w-full" appearance="fill">
                    <mat-label>Descripción *</mat-label>
                    <textarea rows="5" matInput
                    type="text"
                    id="description"
                    name="description"
                    formControlName="description"
                    class="form-control"
                    [ngClass]="{
                        'is-invalid': submitted && modifyProductForm.controls.size.errors
                    }"
                    ></textarea>
                    <mat-error *ngIf="modifyProductForm.controls.size.invalid">{{getErrorMessageDescription()}}</mat-error>
                    <mat-hint>Descripción del producto</mat-hint>
                </mat-form-field>
              </div>

            <div class="md:flex md:justify-around w-full">
              <div class="form-group">
                <mat-form-field class="w-full" appearance="fill" class="w-full md:ml-10 md:w-8/12">
                    <mat-label>Cantidad *</mat-label>
                    <input matInput
                    type="text"
                    id="size"
                    name="size"
                    formControlName="size"
                    class="form-control"
                    [ngClass]="{
                        'is-invalid': submitted && modifyProductForm.controls.size.errors
                    }"
                    />
                    <mat-error *ngIf="modifyProductForm.controls.size.invalid">{{getErrorMessageSize()}}</mat-error>
                    <mat-hint>Introduce una cantidad</mat-hint>
                </mat-form-field>
              </div>

              <div class="form-group">
                <mat-form-field class="w-full" appearance="fill" class="w-full md:w-11/12 md:-ml-7">
                    <mat-label>Precio *</mat-label>
                    <input matInput
                    type="text"
                    id="price"
                    name="price"
                    formControlName="price"
                    class="form-control"
                    [ngClass]="{
                        'is-invalid': submitted && modifyProductForm.controls.price.errors
                    }"
                    />
                    <mat-error *ngIf="modifyProductForm.controls.price.invalid">{{getErrorMessagePrice()}}</mat-error>
                    <mat-hint>Introduce el precio</mat-hint>
                </mat-form-field>
              </div>
            </div>
            <!-- Formulario para imagen-->
            <input type="file" class="file-input hidden" (change)="onFileSelected($event)" #fileUpload>            
            <div class="file-upload mt-4 bg-blue-500 mx-auto my-2 text-center font-bold text-base md:w-1/2">
            
                {{fileName || "Subir archivo"}}
            
              <a mat-mini-fab color="primary" class="upload-btn "
                (click)="fileUpload.click()">
                  <mat-icon>attach_file</mat-icon>
              </a>
            </div>

              <div class="form-group text-center">
                <button [disabled]="modifyProductForm.invalid" class="btn btn-primary">
                  Modificar
                </button>
                <a routerLink="/admin" class="btn btn-link text-sm"
                  >Volver</a
                >
              </div>

              
            </form>
            
          </mat-card-content>        
        </mat-card>
      </div>
    </div>
  </div>