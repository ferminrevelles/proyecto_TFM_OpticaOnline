<ng-container *ngIf="!getIsAdmin();else viewAdmin" > 
    <app-header></app-header>
    <div class="my-3 justify-center" style="height:300px; background-image: url('../../../assets/img/fondo_noAdmin.png'); background-size: cover;  background-repeat: no-repeat no-repeat;">
        <div class="flex flex-col p-8 bg-gray-800 w-11/12 mx-auto shadow-md hover:shodow-lg rounded-2xl" style="position: relative; top:70px;"> 
            <div class="flex items-center justify-between ">
                <div class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg"
                        class="w-16 h-16 rounded-2xl p-3 border border-gray-800 text-blue-400 bg-gray-900" fill="none"
                        viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <div class="flex flex-col ml-3">
                        <div class="font-medium leading-none md:text-xl text-gray-100">Debes ser administrador</div>
                        <p class="text-sm md:text-lg text-gray-500 leading-none mt-1">Logueate como administrador para tener acceso al área de gestión
                        </p>
                    </div>
                </div>
                
            
            </div>
            <div class="mx-auto py-1">
                <a routerLink="/login" class="flex-no-shrink bg-red-500 px-4 ml-4 py-2 text-sm md:text-lg shadow-sm hover:shadow-lg font-medium tracking-wider border-2 border-red-500 text-white rounded-full">Login</a>
            </div>
        </div>
    </div>
    <app-footer></app-footer>
</ng-container>

<ng-template #viewAdmin >


<!--///////////////////////////////-->

<!-- component -->

  <div x-data="setup()" :class="{ 'dark': isDark }">
      <div class="min-h-screen flex flex-col flex-auto flex-shrink-0 antialiased bg-white dark:bg-gray-700 text-black dark:text-white">
  
        <!-- Header -->
        <div class="fixed w-full flex items-center justify-between text-white z-10">
          <div class="flex items-center justify-start md:justify-center pl-3 w-14 md:w-64 h-20 bg-blue-800 dark:bg-gray-800 border-none">
            <img class="w-14 h-14 md:w-14 md:h-14 mr-2 rounded-md overflow-hidden" src="{{dataAdmin.dataUser.imgUrlUser}}" />
            <span class="hidden md:block">ADMINISTRADOR</span>
          </div>
          <div class="flex justify-between items-center h-20 bg-blue-800 dark:bg-gray-800 header-right">
            <div class="rounded flex items-center w-full max-w-xl mx-auto p-2 shadow-sm border border-gray-200">
              <img class="md:w-1/3" src="../../../assets/img/logo_optica1.png">
              <p class="hidden md:block">Panel de gestión de administrador</p>
            </div>
            
            <ul class="flex items-center">
              <li>
                <div class="block w-px h-6 mx-3 bg-gray-400 dark:bg-gray-700"></div>
              </li>
              <li>
                <a href="#" class="flex items-center mr-4 hover:text-blue-100">
                  <span class="inline-flex mr-1">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>
                  </span>
                  Salir
                </a>
              </li>
            </ul>
          </div>
        </div>
        <!-- ./Header -->
      
        <!-- Sidebar -->
        <div class="fixed flex flex-col top-20 left-0 w-20 hover:w-64 md:w-64 bg-blue-900 dark:bg-gray-900 h-full text-white transition-all duration-300 border-none z-10 sidebar">
          <div class="overflow-y-auto overflow-x-hidden flex flex-col justify-between flex-grow">
            <ul class="flex flex-col py-4 space-y-1">
              <li class="px-5 hidden md:block">
                <div class="flex flex-row items-center h-8">
                  <div class="text-sm font-light tracking-wide text-gray-400 uppercase">Gestión</div>
                </div>
              </li>

              <li class="mx-auto my-2 ">
                <div class="hidden md:block">
                <a routerLink="/createuser" mat-raised-button >Añadir Usuario</a>
                </div>
                <div class="block md:hidden">
                  <a routerLink="/createuser" mat-raised-button ><i class="fas fa-user-plus"></i></a>
                </div>
              </li>

              <li class="mx-auto my-2 ">
                <div class="hidden md:block">
                <a routerLink="/createproduct" mat-raised-button >Crear Producto</a>
                </div>
                <div class="block md:hidden">
                  <a routerLink="/createproduct" mat-raised-button ><i class="fas fa-folder-plus"></i></a>
                </div>
              </li>

              <li class="mx-auto ">
                  <div class="btn-group dropend ml-2 border-none md:border-solid md:border-4 md:border-gray-600">
                    <a  mat-raised-button class=" dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-shopping-cart"></i>
                    </a>
                    <span class="mx-8 my-auto text-base tracking-wide truncate ">Productos</span>
                    <ul class="dropdown-menu">
                      <li><a (click)="showProducts('Gafas de Sol')" class="dropdown-item">Gafas de Sol</a></li>
                      <li><a (click)="showProducts('Gafas Graduadas')" class="dropdown-item" >Gafas Graduadas</a></li>
                      <li><a (click)="showProducts('Lentillas')" class="dropdown-item" >Lentillas</a></li>
                      <li><a (click)="showProducts('Líquido de Lentillas')" class="dropdown-item" >Líquido de Lentillas</a></li>
                      <li><a (click)="showProducts('Gafas Deportivas')" class="dropdown-item" >Gafas Deportivas</a></li>
                    </ul>
                  </div>
              </li>
              <li class="mx-auto ">
                <div class="btn-group dropend ml-2 border-none md:border-solid md:border-4 md:border-gray-600">
                  <a mat-raised-button (click)="showOrders()" class="border-gray-600" aria-expanded="false">
                    <i class="fas fa-shopping-basket"></i>
                  </a>
                  <span class="mx-8 my-auto text-base tracking-wide truncate ">Pedidos</span>
                </div>
              </li>
              <li class="mx-auto ">
                <div class="btn-group dropend ml-2 border-none md:border-solid md:border-4 md:border-gray-600">
                  <a mat-raised-button (click)="showUsers()" class="border-gray-600" aria-expanded="false">
                    <i class="fas fa-users"></i>
                  </a>
                  <span class="mx-8 my-auto text-base tracking-wide truncate ">Usuarios</span>
                </div>
              </li>
              <li class="mx-auto ">
                <div class="btn-group dropend ml-2 border-none md:border-solid md:border-4 md:border-gray-600">
                  <a mat-raised-button (click)="showCalendar()" class="border-gray-600" aria-expanded="false">
                    <i class="far fa-calendar-alt"></i>
                  </a>
                  <span class="mx-8 my-auto text-base tracking-wide truncate ">Citas</span>
                </div>
              </li>
 
              <li class="px-5 hidden md:block">
                <div class="flex flex-row items-center mt-5 h-8">
                  <div class="text-sm font-light tracking-wide text-gray-400 uppercase">Configuración</div>
                </div>
              </li>
              <li class="mx-auto ">
                <div class="btn-group dropend ml-2 border-none md:border-solid md:border-4 md:border-gray-600">
                  <button (click)="showProfile()" type="button" class="btn btn-secondary" aria-expanded="false">
                    <i class="fas fa-user-shield"></i>
                  </button>
                  <span class="mx-8 my-auto text-base tracking-wide truncate ">Perfil</span>
                </div>
              </li>
              <li class="mx-auto ">
                <div class="btn-group dropend ml-2 border-none md:border-solid md:border-4 md:border-gray-600">
                  <button (click)="modifyAdmin()" type="button" class="btn btn-secondary" aria-expanded="false">
                    <i class="fas fa-user-cog"></i>
                  </button>
                  <span class="mx-8 my-auto text-base tracking-wide truncate ">Configuración</span>
                </div>
              </li>
            </ul>
            <p class="mb-14 px-5 py-3 hidden md:block text-center text-xs">Copyright @2021</p>
          </div>
        </div>
        <!-- ./Sidebar -->

        <!-- Diferent Section-->
        <div class="h-full ml-14 mt-14 mb-10 md:ml-64">
                            <!-- component Profile administrator-->
                  <div *ngIf="showProfileWeb" class="h-full mt-12">
                  
                    <div class="border-b-2 block md:flex">

                      <div class="w-full md:w-2/5 p-4 sm:p-6 lg:p-8 bg-white shadow-md">
                        <div class="flex justify-between">
                          <span class="text-xl font-semibold block">Perfil Administrador</span>
                        </div>

                        <span class="text-gray-600">Información confidencial</span>
                        <div class="w-full p-8 mx-2 flex justify-center">
                          <img id="showImage" class="max-w-xs w-32 items-center border" src="{{dataAdmin.dataUser.imgUrlUser}}" alt="">                          
                        </div>
                      </div>
                      
                      <div class="w-full md:w-3/5 p-8 bg-white lg:ml-4 shadow-md">
                        <div class="rounded  shadow p-6">
                          <div class="pb-6">
                            <label for="name" class="font-semibold text-gray-700 block pb-1">Nombre</label>
                            <div class="flex">
                              <input disabled id="username" class="border-1  rounded-r px-4 py-2 w-full" type="text" value="{{dataAdmin.dataUser.name}}" />
                            </div>
                          </div>
                          <div class="pb-4">
                            <label for="about" class="font-semibold text-gray-700 block pb-1">Email</label>
                            <input disabled id="email" class="border-1  rounded-r px-4 py-2 w-full" type="email" value="{{dataAdmin.dataUser.email}}" />
                            <span class="text-gray-600 pt-4 block opacity-70">Información personal del login information de tu cuenta</span>
                          </div>
                          <div class="text-center" >
                            <button (click)="modifyAdmin()" class="bg-blue-600 text-white" mat-button color="primary">Modificar Perfil</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

          <!--Product Table-->
          <div *ngIf="showProductWeb" class="mt-12">
            <app-listproducts [products]="listproducts" ></app-listproducts>
          </div>

          <!--Order Table-->
          <div>
            <app-orders  *ngIf="showOrderWeb" ></app-orders>
          </div>

          <!--User Table-->
          <div>
            <app-users  *ngIf="showUserWeb" ></app-users>
          </div>
         
          <!--Appointment Table-->
          <div class="ml-6 md:mx-auto mt-12">
            <app-appointmentadmin *ngIf="showCalendarWeb"></app-appointmentadmin>
          </div>

        </div>
      </div>
    </div>    
  
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.8.0/dist/alpine.min.js" defer></script>
    <script>
      const setup = () => {
        const getTheme = () => {
          if (window.localStorage.getItem('dark')) {
            return JSON.parse(window.localStorage.getItem('dark'))
          }
          return !!window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        }
  
        const setTheme = (value) => {
          window.localStorage.setItem('dark', value)
        }
  
        return {
          loading: true,
          isDark: getTheme(),
          toggleTheme() {
            this.isDark = !this.isDark
            setTheme(this.isDark)
          },
        }
      }
    </script>

</ng-template>

<!-- LICENSE TAILWINDCSS
  MIT License

Copyright (c) Adam Wathan <adam.wathan@gmail.com>
Copyright (c) Jonathan Reinink <jonathan@reinink.ca>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
-->

<!-- LICENSE ANGULAR MATERIAL
  MIT License

Copyright (c) Adam Wathan <adam.wathan@gmail.com>
Copyright (c) Jonathan Reinink <jonathan@reinink.ca>

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
-->

<!-- LICENSE BOOTSTRAP
    The MIT License (MIT)

Copyright (c) 2011-2018 Twitter, Inc.
Copyright (c) 2011-2018 The Bootstrap Authors

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
-->
